/* 2019-09-26 09:04:23 cell-pc-frame 0.0.11  */
define("mv/frame",[],function(e,n,i){i.exports=Magix.View.extend({render:function(){this.endUpdate()}})});
//# sourceMappingURL=//pre-lego.alicdn.com/mm/lego2/cell-pc-frame/0.0.11/index.js.map/* 2017-10-11 10:51:45 atb_redbag 0.0.4  */
/* 2019-09-25 14:37:29 pc-items 0.0.13  */
define("pc-items",[],function(i,s,t){t.exports=Magix.View.extend({tmpl:'<%if(title){%><div class="pc-items-title"><%=title%></div><%}%><ul class="pc-items-list"><%for(var i=0;i<list.length;i++){%><li class="pc-items-item <%= list[i].itemClass%>"><a target="_blank" class="pc-items-item-a" href="<%= list[i].url%>"><img class="pc-items-item-img" data-src="<%= list[i]._pic%>" data-rewrite="{width:\'468\',height: \'468\'}"><div class="pc-items-item-title <%if(!list[i].jhsPriceUspList&&!list[i].hasCoupon){%>pc-items-item-title-row2<%}%>"><%if(list[i].iconImg){%><img class="icon-img" src="<%= list[i].iconImg%>"><%}%><span class="title-text"><%= list[i].itemName%></span></div><%if(list[i].jhsPriceUspList||list[i].hasCoupon){%><div class="tip-con"><%if(list[i].jhsPriceUspList){%><div class="jhs-tip <%if(list[i].hasCoupon){%>max-width<%}%>"><%= list[i].jhsPriceUspList%></div><%}if(list[i].hasCoupon){%><div class="coupon-icon"><span class="coupon-icon-text">券</span><span class="coupon-icon-num"><%= list[i].couponAmount%>元</span><span class="coupon-icon-t"><span class="coupon-icon-circle"></span></span><span class="coupon-icon-b"><span class="coupon-icon-circle"></span></span></div><%}%></div><%}%><div class="price-con"><%if(list[i].hasCoupon){%><span class="coupon-price-title">¥</span><span class="coupon-price-afterCoupon"><%= list[i].priceAfterCoupon%></span><span class="coupon-price-old">¥<%= list[i].promotionPrice%></span><%}else{%><span class="coupon-price-title">¥</span><span class="coupon-price-afterCoupon"><%= list[i].promotionPrice%></span><span class="coupon-price-old">¥<%= list[i].price%></span><%}%></div><div class="seller-info"><div class="seller-name"><span class="atbfont seller-icon">&#xe667;</span><%= list[i].shopTitle%></div></div><div class="item-footer"><div class="item-tags"><%for(var j=0;j<list[i].tags.length;j++){%><span class="item-tag"><img src="<%= list[i].tags[j]%>"></span><%}%></div><div class="sell-info">月销 <%= list[i].monthSellCount%></div></div></a></li><%}%></ul>',ctor:function(i){this.$el=$("#"+this.id);try{var s=this.$el.attr("data-config");this.config=JSON.parse(s),this.config.columns=this.config.columns||5,this.config.columns=parseInt(this.config.columns,10)}catch(i){}},render:function(){this.getData()},renderHtml:function(i){i=i||[],this.setHTML(this.id,$.tmpl(this.tmpl,{list:i,title:this.config.title,id:this.config.id||""})),$("#"+this.id).css("minHeight","auto"),i.length&&window.Glazy.collect(null,"[data-src]").check()},getData:function(){var i=this,s={pNum:0,pSize:this.config.num,refpid:MM_UTIL.getPid()},t=this.config.floorId.split(",");"qie"==t[0]?s.qieId=t[1]:s.floorId=t[1],this.mtopRequest({api:"mtop.alimama.union.xt.en.api.entry",data:s,v:"1.0",ecode:0,AntiCreep:!0},function(s){if(s&&s.data&&s.data.recommend&&s.data.recommend.resultList&&s.data.recommend.resultList.length&&s.data.recommend.resultList.length>5){var t=s.data.recommend.resultList.length,n=i.fixData(s.data.recommend.resultList.slice(0,5*Math.floor(t/5)));i.renderHtml(n)}else i.renderHtml()},function(){i.renderHtml()})},fixData:function(i){var s,t;i=i.slice(0,i.length-i.length%this.config.columns);for(var n=0;n<i.length;n++){for(i[n]._pic=i[n].pic,i[n].couponAmount?(i[n].hasCoupon=!0,i[n].priceAfterCoupon=i[n].priceAfterCoupon||(i[n].promotionPrice-i[n].couponAmount).toFixed(2)):i[n].hasCoupon=!1,i[n].monthSellCount>9999&&(i[n].monthSellCount=(i[n].monthSellCount/1e4).toFixed(2)+"万"),i[n].jhsPriceUspList=i[n].jhsPriceUspList||"",i[n].url=i[n].hasCoupon&&i[n].couponShareUrl||i[n].url,i[n].tags=[],s=i[n].auctionTags?i[n].auctionTags.split(" "):[],this.config.mainTagImg&&this.config.mainTagAuction&&$.inArray(this.config.mainTagAuction,s)>-1?i[n].iconImg=this.config.mainTagImg:i[n].iconImg="",t=0;t<this.config.tags.length;t++)$.inArray(this.config.tags[t].auction,s)>-1&&i[n].tags.push(this.config.tags[t].img);i[n].itemClass="item-"+this.config.columns}return i}})});
//# sourceMappingURL=//pre-lego.alicdn.com/mm/lego2/pc-items/0.0.13/index.js.map/* 2019-09-26 11:45:35 pc-main-cates 0.0.4  */
define("pc-main-cates",["cell-carousel@0.0.2"],function(e,n,i){var t=e("cell-carousel@0.0.2");i.exports=Magix.View.extend({ctor:function(e){this.$el=$("#"+this.id);try{var n=this.$el.attr("data-config");this.config=JSON.parse(n)}catch(e){}},render:function(){this.mainChannelTmpl=$("#mainChannelTmpl").html(),this.getChannelData(),this.slideMain(),this.slidePubs()},slideMain:function(){var e=$("#index-mainSlide"),n=t.create({options:{target:e,autoSlide:!0,navClass:"slide-nav",speed:500,timeout:3e3,carousel:!0,contentClass:"slide-con",pannelClass:"con-pannel",triggerSelector:"li a",easing:"ease-in",navActiveClass:"current"}});n.on("beforeSlide",function(e){$("#index-mainSlide .slide-nav .slide-nav-item").removeClass("current"),$("#index-mainSlide .slide-nav .slide-nav-item-"+e.index).addClass("current")});var i=$("#index-mainSlide .btn-pre"),a=$("#index-mainSlide .btn-next");(i||a)&&(i.on("click",function(){n.invokeView("goBefore")}),a.on("click",function(){n.invokeView("goAfter")}),e.on("mouseenter",function(){i.css({left:0}).show(),a.css({right:0}).show()}),e.on("mouseleave",function(){i.hide(),a.hide()}))},slidePubs:function(){var e=$("#J_pubs_slide"),n=t.create({options:{target:e,autoSlide:!0,speed:500,timeout:4300,carousel:!0,contentClass:"pubs-slide-con",pannelClass:"pub-con-pannel",navActiveClass:"current"}}),i=$("#J_pubs_slide .pub-pre");i.html("&#xf016e;");var a=$("#J_pubs_slide .pub-next");a.html("&#xf016d;"),(i||a)&&(i.on("click",function(){n.invokeView("goBefore")}),a.on("click",function(){n.invokeView("goAfter")}),e.on("mouseenter",function(){i.css({left:0}).show(),a.css({right:0}).show()}),e.on("mouseleave",function(){i.hide(),a.hide()}))},renderHtml:function(e,n){e=e||[],n=n||{},$("#J_MAIN_CHANEL").html($.tmpl(this.mainChannelTmpl,{channels:e,channelConfig:n}))},getChannelData:function(){var e=this,n={refpid:MM_UTIL.getPid(),prepvid:MM_UTIL.getPvid(),floorId:24824,variableMap:{}};if(location.href.indexOf("?")>-1){var i=MM_UTIL.parseParams(location.search.slice(1));n.variableMap.unid=i.unid||""}n.variableMap=JSON.stringify(n.variableMap),this.mtopRequest({api:"mtop.alimama.union.xt.en.api.entry",data:n,v:"1.0",ecode:0,AntiCreep:!0},function(n){if(n&&n.data&&n.data.recommend&&n.data.recommend.resultList&&n.data.recommend.resultList.length){n.data.recommend.resultList.length;for(var i=n.data.recommend.resultList,t=e.config.subList,a=e.config.channelLists,s={},l={},o=0;o<t.length;o++)s[t[o].id]=t[o];for(var r=0;r<a.length;r++)l[a[r].channel]=a[r];for(var c=0;c<i.length;c++)l[i[c].id]&&(i[c].url=l[i[c].id].link,i[c].icon=l[i[c].id].icon);e.renderHtml(i,s)}},function(){})}})});
//# sourceMappingURL=//pre-lego.alicdn.com/mm/lego2/pc-main-cates/0.0.4/index.js.map/* 2019-09-30 20:00:41 pc-search 0.0.11  */
define("pc-search",[],function(e,t,s){s.exports=Magix.View.extend({ctor:function(e){this.$el=$("#"+this.id);try{var t=this.$el.attr("data-config");this.config=JSON.parse(t),this.urlQueryKey="key"}catch(e){}},render:function(){this.tmpl=$("#searchLinkTmpl").html(),this.sugTmpl=$("#sugListTmpl").html(),this.sugGroupTmpl=$("#sugGroupTmpl").html(),this.getKeywords(),this.bindEvent()},bindEvent:function(){var e=this;$("#J_search_key").on("input",function(t){e.getSug()}).on("focusin",function(t){e.getSug()}).on("focusout",function(t){setTimeout(function(){e.hideSug()},200)})},getSug:function(){var e=this;e.timer&&clearTimeout(e.timer);var t=$.trim($("#J_search_key").val());t?($("#J_sugGroup").html(""),e.timer=setTimeout(function(){var s={};location.href.indexOf("?")>-1&&(s=MM_UTIL.parseParams(location.search.slice(1))),$.ajax({url:"//suggest.taobao.com/sug",dataType:"jsonp",data:{code:"utf-8",q:t,extras:"1",area:"c2c",bucketid:"atb_search",pid:MM_UTIL.getPid(),unid:s.unid||"",clk1:s.clk1||""},success:function(s){if(s&&s.result&&s.result.length){for(var a=[],i="",r=0;r<s.result.length;r++)i=s.result[r][0],keyLen=t.length,keyIndex=i.indexOf(t),newName=i,0==keyIndex?newName=t+"<b>"+i.slice(keyIndex+keyLen)+"</b>":keyIndex>0&&(newName="<b>"+i.slice(0,keyLen)+"</b>"+t+"<b>"+i.slice(keyIndex+keyLen)+"</b>"),a.push({name:newName,q:i,hasGroup:!1,url:e.config.url+"?"+e.urlQueryKey+"="+s.result[r][0]});if(s&&s.magic&&s.magic.length){for(var n=[],o=0;o<s.magic.length;o++)"tag_group"==s.magic[o].type&&(a[s.magic[o].index-1].hasGroup=!0,n.push({name:a[s.magic[o].index-1].name,index:s.magic[o].index,data:s.magic[o].data||[],q:a[s.magic[o].index-1].q}));$("#J_sugGroup").html($.tmpl(e.sugGroupTmpl,{groupList:n}))}e.showSug(a)}else e.hideSug()}})},200)):e.hideSug()},showSug:function(e){$("#J_sugCon").html($.tmpl(this.sugTmpl,{list:e})),$("#J_sugCon").css("display","block")},hideSug:function(){$("#J_sugCon").css("display","none")},getKeywords:function(){var e=this;$.ajax({url:"//textlink.simba.taobao.com",dataType:"jsonp",data:{name:"tbhs",cna:"Kg21EWCrAwYCAWoLIhLLxURP",nn:"hzk83529",count:10,pid:"430266_1006",_ksTS:"1568793668155_88"},success:function(t){var s=MM_UTIL.getPvid(),a="",i="";if(location.href.indexOf("?")>-1){var r=MM_UTIL.parseParams(location.search.slice(1));a=r.clk1||"",i=r.unid||""}if(t&&t.data&&t.data.length){for(var n=[],o=0;o<t.data.length;o++)n[o]={url:e.config.url+"?"+MM_UTIL.joinParams({b:"sousuo_dtl",key:t.data[o].query,source_id:"search",pid:"430860_1006",clk1:a,unid:i,prepvid:s}),text:t.data[o].query,isRed:t.data[o].highlight};e.config.keyWords=n,$("#J_searchLink").html($.tmpl(e.tmpl,e.config))}else{var u=0;for(o=e.config.keyWords.length;u<o;u++)e.config.keyWords[u].url||(e.config.keyWords[u].url=e.config.url+"?"+MM_UTIL.joinParams({b:"sousuo_dtl",key:e.config.keyWords[u].text,source_id:"search",pid:pid,clk1:a,unid:i,prepvid:s}));$("#J_searchLink").html($.tmpl(e.tmpl,e.config))}}})},"submit<click>":function(e){e.preventDefault(),this.goSearch()},"submit<submit>":function(){this.goSearch()},"sugGroupSearch<click>":function(e){e.preventDefault(),$("#J_search_key").val(e.params.key),this.goSearch()},"sugOver<mouseover>":function(e){$("#J_sugGroup").hide(),$(".search-tags-group").removeClass("search-tags-group-show"),$(".sug-item").removeClass("sug-item-hover"),$(e.eventTarget).addClass("sug-item-hover"),e.params.hasGroup&&($("#J_sugGroup").show(),$(".search-tags-group").removeClass("search-tags-group-show"),$("#J_tag_group_"+e.params.index).addClass("search-tags-group-show"))},"sugSearch<click>":function(e){$("#J_search_key").val(e.params.key),this.goSearch()},goSearch:function(){var e,t=$.trim($("#J_search_key").val());t&&(e=this.config.url+"?"+this.urlQueryKey+"="+t,MM_UTIL.trackUrl&&(e=MM_UTIL.trackUrl(e)),window.open(e,"target"))}})});
//# sourceMappingURL=//pre-lego.alicdn.com/mm/lego2/pc-search/0.0.11/index.js.map